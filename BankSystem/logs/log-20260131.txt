2026-01-31 02:13:45.844 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 02:13:45.994 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 02:13:46.119 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 02:13:46.125 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 02:13:46.129 +02:00 [INF] Hosting environment: Development
2026-01-31 02:13:46.132 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 02:13:47.405 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 02:13:47.803 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 406.9862ms
2026-01-31 02:13:47.822 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 02:13:47.848 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 02:13:47.868 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 19.221ms
2026-01-31 02:13:47.949 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 128.9928ms
2026-01-31 02:13:48.000 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 02:13:48.272 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 272.5791ms
2026-01-31 02:14:25.340 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 02:14:25.368 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 28.3709ms
2026-01-31 02:14:25.397 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 02:14:25.403 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 02:14:25.421 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.3915ms
2026-01-31 02:14:25.428 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 25.0174ms
2026-01-31 02:14:25.462 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 02:14:25.471 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/favicon-32x32.png - null null
2026-01-31 02:14:25.509 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 46.4676ms
2026-01-31 02:14:25.522 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2026-01-31 02:14:25.537 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/favicon-32x32.png - 200 628 image/png 65.9046ms
2026-01-31 02:14:54.179 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5068/Api/V1/User/SignIn - multipart/form-data; boundary=----WebKitFormBoundaryae94bVVvmqObYp2p 253
2026-01-31 02:14:54.238 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-31 02:14:54.462 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.AuthenticationController.SignInAsync (BankSystem)'
2026-01-31 02:14:54.503 +02:00 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(BusinessCore.BankSystem.Features.User.Commands.Requests.SignInCommand) on controller BankSystem.Controllers.AuthenticationController (BankSystem).
2026-01-31 02:14:57.328 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[Image], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-31 02:14:57.606 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Response`1[[Domainlayer.BankSystem.Results.JwtAuthResult, Domainlayer.BankSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-31 02:14:57.632 +02:00 [INF] Executed action BankSystem.Controllers.AuthenticationController.SignInAsync (BankSystem) in 3116.1481ms
2026-01-31 02:14:57.640 +02:00 [INF] Executed endpoint 'BankSystem.Controllers.AuthenticationController.SignInAsync (BankSystem)'
2026-01-31 02:14:57.655 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5068/Api/V1/User/SignIn - 400 null application/json; charset=utf-8 3476.0413ms
2026-01-31 02:15:21.983 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 02:15:22.140 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 02:15:22.257 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 02:15:22.262 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 02:15:22.264 +02:00 [INF] Hosting environment: Development
2026-01-31 02:15:22.267 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 02:15:22.767 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 02:15:23.089 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 330.6968ms
2026-01-31 02:15:23.101 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 02:15:23.118 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 02:15:23.125 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 24.8732ms
2026-01-31 02:15:23.197 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 78.4187ms
2026-01-31 02:15:23.259 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 02:15:23.537 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 277.7652ms
2026-01-31 02:15:35.090 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5068/Api/V1/User/SignIn - multipart/form-data; boundary=----WebKitFormBoundaryIpBbOGhgArLad9wi 253
2026-01-31 02:15:35.124 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-31 02:15:35.186 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.AuthenticationController.SignInAsync (BankSystem)'
2026-01-31 02:15:35.217 +02:00 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(BusinessCore.BankSystem.Features.User.Commands.Requests.SignInCommand) on controller BankSystem.Controllers.AuthenticationController (BankSystem).
2026-01-31 02:15:36.943 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[Image], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-31 02:15:37.194 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Response`1[[Domainlayer.BankSystem.Results.JwtAuthResult, Domainlayer.BankSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-31 02:15:37.221 +02:00 [INF] Executed action BankSystem.Controllers.AuthenticationController.SignInAsync (BankSystem) in 1989.787ms
2026-01-31 02:15:37.232 +02:00 [INF] Executed endpoint 'BankSystem.Controllers.AuthenticationController.SignInAsync (BankSystem)'
2026-01-31 02:15:37.253 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5068/Api/V1/User/SignIn - 400 null application/json; charset=utf-8 2163.4638ms
2026-01-31 02:15:56.510 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 02:15:56.599 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 02:15:56.641 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 02:15:56.650 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 02:15:56.653 +02:00 [INF] Hosting environment: Development
2026-01-31 02:15:56.656 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 02:15:56.956 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 02:15:57.181 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 02:15:57.167 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 211.1474ms
2026-01-31 02:15:57.200 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 02:15:57.211 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 11.2177ms
2026-01-31 02:15:57.223 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.8729ms
2026-01-31 02:15:57.291 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 02:15:57.502 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 210.6201ms
2026-01-31 02:16:09.112 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5068/Api/V1/User/SignIn - multipart/form-data; boundary=----WebKitFormBoundaryhlUnceAbIC8YRIOv 253
2026-01-31 02:16:09.141 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-31 02:16:09.171 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.AuthenticationController.SignInAsync (BankSystem)'
2026-01-31 02:16:09.198 +02:00 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(BusinessCore.BankSystem.Features.User.Commands.Requests.SignInCommand) on controller BankSystem.Controllers.AuthenticationController (BankSystem).
2026-01-31 02:16:10.386 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[Image], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-31 02:16:10.616 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Response`1[[Domainlayer.BankSystem.Results.JwtAuthResult, Domainlayer.BankSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-31 02:16:10.641 +02:00 [INF] Executed action BankSystem.Controllers.AuthenticationController.SignInAsync (BankSystem) in 1430.1345ms
2026-01-31 02:16:10.652 +02:00 [INF] Executed endpoint 'BankSystem.Controllers.AuthenticationController.SignInAsync (BankSystem)'
2026-01-31 02:16:10.662 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5068/Api/V1/User/SignIn - 400 null application/json; charset=utf-8 1550.2931ms
2026-01-31 02:18:50.605 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-01-31 02:18:50.663 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-01-31 02:18:50.666 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-01-31 02:18:50.666 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-01-31 02:18:50.682 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-01-31 02:18:50.704 +02:00 [INF] Applying migration '20260131001831_changeforeignkeytoApplicationuset'.
2026-01-31 02:18:50.791 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BankAccounts] DROP CONSTRAINT [FK_BankAccounts_users_UserId];
2026-01-31 02:18:50.804 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BankAccounts] ADD CONSTRAINT [FK_BankAccounts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE;
2026-01-31 02:18:50.807 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20260131001831_changeforeignkeytoApplicationuset', N'8.0.19');
2026-01-31 02:22:01.997 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 02:22:02.138 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 02:22:02.261 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 02:22:02.266 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 02:22:02.269 +02:00 [INF] Hosting environment: Development
2026-01-31 02:22:02.272 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 02:22:02.814 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 02:22:03.106 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 300.9355ms
2026-01-31 02:22:03.123 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 02:22:03.118 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 02:22:03.139 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 16.4199ms
2026-01-31 02:22:03.181 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.7661ms
2026-01-31 02:22:03.236 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 02:22:03.531 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 295.2805ms
2026-01-31 02:22:47.947 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5068/Api/V1/User/SignIn - multipart/form-data; boundary=----WebKitFormBoundaryCRBsHLlXybxl5rtT 252
2026-01-31 02:22:47.990 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-31 02:22:48.054 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.AuthenticationController.SignInAsync (BankSystem)'
2026-01-31 02:22:48.085 +02:00 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(BusinessCore.BankSystem.Features.User.Commands.Requests.SignInCommand) on controller BankSystem.Controllers.AuthenticationController (BankSystem).
2026-01-31 02:22:49.896 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[Image], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-31 02:22:54.492 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-31 02:22:54.556 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2026-01-31 02:22:57.969 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshToken] ([AddedTime], [ExpiryDate], [IsRevoked], [IsUsed], [JwtId], [RefreshTokenHash], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2026-01-31 02:23:05.364 +02:00 [INF] Executing OkObjectResult, writing value of type 'Response`1[[Domainlayer.BankSystem.Results.JwtAuthResult, Domainlayer.BankSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-31 02:23:10.946 +02:00 [INF] Executed action BankSystem.Controllers.AuthenticationController.SignInAsync (BankSystem) in 22842.4593ms
2026-01-31 02:23:10.955 +02:00 [INF] Executed endpoint 'BankSystem.Controllers.AuthenticationController.SignInAsync (BankSystem)'
2026-01-31 02:23:12.911 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5068/Api/V1/User/SignIn - 200 null application/json; charset=utf-8 24964.3557ms
2026-01-31 02:23:58.303 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5068/Api/V1/BankAccount/Create - application/json 55
2026-01-31 02:23:58.456 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.Create (BankSystem)'
2026-01-31 02:23:58.466 +02:00 [INF] Route matched with {action = "Create", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BusinessCore.BankSystem.Features.BankAccount.Commands.Models.CreateAccountCommand) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 02:24:07.077 +02:00 [INF] Creating account for user 20
2026-01-31 02:24:11.435 +02:00 [INF] CreateAccountAsync called by user 20, Target: 20, Type: "Current", Currency: "EGP"
2026-01-31 02:24:24.732 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AccountNumber], [b].[AccountType], [b].[Balance], [b].[CreatedData], [b].[Currency], [b].[ISDeleted], [b].[IsActive], [b].[UpdatedData], [b].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[Image], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [BankAccounts] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[UserId] = [a].[Id]
WHERE [b].[UserId] = @__userId_0 AND [b].[ISDeleted] = CAST(0 AS bit)
2026-01-31 02:24:27.819 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__accountNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[AccountType], [b].[Balance], [b].[CreatedData], [b].[Currency], [b].[ISDeleted], [b].[IsActive], [b].[UpdatedData], [b].[UserId]
FROM [BankAccounts] AS [b]
WHERE [b].[AccountNumber] = @__accountNumber_0 AND [b].[ISDeleted] = CAST(0 AS bit)
2026-01-31 02:24:27.854 +02:00 [DBG] Generated unique account number: ACCT-EEB67466C122
2026-01-31 02:24:30.083 +02:00 [INF] DEBUG DATABASE: Attempting to save account. Current UserId: 20
2026-01-31 02:24:31.712 +02:00 [INF] DEBUG DATA: Entity State before save - UserId: 20, Account: ACCT-EEB67466C122
2026-01-31 02:24:32.382 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BankAccounts] ([AccountNumber], [AccountType], [Balance], [CreatedData], [Currency], [ISDeleted], [IsActive], [UpdatedData], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-31 02:24:38.583 +02:00 [INF] SUCCESS: Account saved with ID: 8
2026-01-31 02:24:41.276 +02:00 [INF] Account ACCT-EEB67466C122 created successfully
2026-01-31 02:24:48.082 +02:00 [INF] Executing ObjectResult, writing value of type 'Response`1[[BusinessCore.BankSystem.Features.BankAccount.Queries.Responses.BankAccountResponse, BusinessCore.BankSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-31 02:24:54.571 +02:00 [INF] Executed action BankSystem.Controllers.BankAccountController.Create (BankSystem) in 56089.1991ms
2026-01-31 02:24:54.577 +02:00 [INF] Executed endpoint 'BankSystem.Controllers.BankAccountController.Create (BankSystem)'
2026-01-31 02:24:56.548 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5068/Api/V1/BankAccount/Create - 201 null application/json; charset=utf-8 58245.5566ms
2026-01-31 02:25:35.956 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/Api/V1/BankAccount/GetByAccountNumber/Account ACCT-EEB67466C122 created successfully - null null
2026-01-31 02:25:35.975 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.GetByAccountNumber (BankSystem)'
2026-01-31 02:25:35.990 +02:00 [INF] Route matched with {action = "GetByAccountNumber", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByAccountNumber(System.String) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 02:25:36.017 +02:00 [INF] Handling GetAccountByAccountNumberQuery: Account ACCT-EEB67466C122 created successfully
2026-01-31 02:25:36.024 +02:00 [INF] GetByAccountNumberAsync called for account Account ACCT-EEB67466C122 created successfully by user 20
2026-01-31 02:25:36.047 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__accountNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[AccountType], [b].[Balance], [b].[CreatedData], [b].[Currency], [b].[ISDeleted], [b].[IsActive], [b].[UpdatedData], [b].[UserId]
FROM [BankAccounts] AS [b]
WHERE [b].[AccountNumber] = @__accountNumber_0 AND [b].[ISDeleted] = CAST(0 AS bit)
2026-01-31 02:25:36.057 +02:00 [WRN] Account Account ACCT-EEB67466C122 created successfully not found
2026-01-31 02:25:36.160 +02:00 [INF] Executing ObjectResult, writing value of type 'Response`1[[BusinessCore.BankSystem.Features.BankAccount.Queries.Responses.BankAccountResponse, BusinessCore.BankSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-31 02:25:36.168 +02:00 [INF] Executed action BankSystem.Controllers.BankAccountController.GetByAccountNumber (BankSystem) in 166.5442ms
2026-01-31 02:25:36.173 +02:00 [INF] Executed endpoint 'BankSystem.Controllers.BankAccountController.GetByAccountNumber (BankSystem)'
2026-01-31 02:25:36.177 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/Api/V1/BankAccount/GetByAccountNumber/Account ACCT-EEB67466C122 created successfully - 404 null application/json; charset=utf-8 222.1754ms
2026-01-31 02:25:46.951 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/Api/V1/BankAccount/GetByAccountNumber/Account ACCT-EEB67466C122 created successfully - null null
2026-01-31 02:25:46.964 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.GetByAccountNumber (BankSystem)'
2026-01-31 02:25:46.968 +02:00 [INF] Route matched with {action = "GetByAccountNumber", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByAccountNumber(System.String) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 02:25:46.982 +02:00 [INF] Handling GetAccountByAccountNumberQuery: Account ACCT-EEB67466C122 created successfully
2026-01-31 02:25:46.987 +02:00 [INF] GetByAccountNumberAsync called for account Account ACCT-EEB67466C122 created successfully by user 20
2026-01-31 02:25:46.996 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accountNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[AccountType], [b].[Balance], [b].[CreatedData], [b].[Currency], [b].[ISDeleted], [b].[IsActive], [b].[UpdatedData], [b].[UserId]
FROM [BankAccounts] AS [b]
WHERE [b].[AccountNumber] = @__accountNumber_0 AND [b].[ISDeleted] = CAST(0 AS bit)
2026-01-31 02:25:59.112 +02:00 [WRN] Account Account ACCT-EEB67466C122 created successfully not found
2026-01-31 02:25:59.806 +02:00 [INF] Executing ObjectResult, writing value of type 'Response`1[[BusinessCore.BankSystem.Features.BankAccount.Queries.Responses.BankAccountResponse, BusinessCore.BankSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-31 02:25:59.814 +02:00 [INF] Executed action BankSystem.Controllers.BankAccountController.GetByAccountNumber (BankSystem) in 12834.0692ms
2026-01-31 02:25:59.819 +02:00 [INF] Executed endpoint 'BankSystem.Controllers.BankAccountController.GetByAccountNumber (BankSystem)'
2026-01-31 02:25:59.823 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/Api/V1/BankAccount/GetByAccountNumber/Account ACCT-EEB67466C122 created successfully - 404 null application/json; charset=utf-8 12871.7786ms
2026-01-31 02:26:35.216 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5068/Api/V1/BankAccount/UpdateAccountType - application/json 38
2026-01-31 02:26:35.228 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem)'
2026-01-31 02:26:35.237 +02:00 [INF] Route matched with {action = "UpdateAccountType", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAccountType(BusinessCore.BankSystem.Features.BankAccount.Commands.Models.UpdateAccountTypeCommand) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 02:26:35.260 +02:00 [INF] Updating account 20 type
2026-01-31 02:26:35.269 +02:00 [INF] UpdateAccountTypeAsync called for account 20 by user 20, New Type: "Business"
2026-01-31 02:26:35.277 +02:00 [INF] GetAccountByIdAsync called for account 20 by user 20
2026-01-31 02:26:35.311 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[AccountType], [b].[Balance], [b].[CreatedData], [b].[Currency], [b].[ISDeleted], [b].[IsActive], [b].[UpdatedData], [b].[UserId]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__p_0
2026-01-31 02:26:35.323 +02:00 [WRN] Account 20 not found
2026-01-31 02:26:35.463 +02:00 [WRN] Account 20 not found
System.Collections.Generic.KeyNotFoundException: Account with ID 20 not found
   at ApplicationLayer.BankSystem.ImplementServices.BankAccountService.GetAccountByIdAsync(Int32 id) in D:\BankSystem\BankSystem\BankSystem\ApplicationLayer.BankSystem\ImplementServices\BankAccountService.cs:line 151
   at ApplicationLayer.BankSystem.ImplementServices.BankAccountService.UpdateAccountTypeAsync(Int32 id, AccountTypeEnum newType) in D:\BankSystem\BankSystem\BankSystem\ApplicationLayer.BankSystem\ImplementServices\BankAccountService.cs:line 327
   at BusinessCore.BankSystem.Features.BankAccount.Commands.Handler.BankAccountCommandHandler.Handle(UpdateAccountTypeCommand request, CancellationToken cancellationToken) in D:\BankSystem\BankSystem\BankSystem\BusinessCore.BankSystem\Features\BankAccount\Commands\Handler\BankAccountCommandHandler.cs:line 90
2026-01-31 02:26:35.523 +02:00 [INF] Executing ObjectResult, writing value of type 'Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-31 02:26:35.529 +02:00 [INF] Executed action BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem) in 276.9424ms
2026-01-31 02:26:35.534 +02:00 [INF] Executed endpoint 'BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem)'
2026-01-31 02:26:35.538 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5068/Api/V1/BankAccount/UpdateAccountType - 404 null application/json; charset=utf-8 322.6856ms
2026-01-31 02:31:32.795 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 02:31:33.007 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 02:31:33.121 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 02:31:33.125 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 02:31:33.128 +02:00 [INF] Hosting environment: Development
2026-01-31 02:31:33.131 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 02:31:33.496 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 02:31:33.810 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 318.6656ms
2026-01-31 02:31:33.825 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 02:31:33.834 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 02:31:33.872 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 37.938ms
2026-01-31 02:31:33.902 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 77.061ms
2026-01-31 02:31:33.957 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 02:31:34.278 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 321.1552ms
2026-01-31 02:32:06.135 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 02:32:06.280 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 02:32:06.389 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 02:32:06.399 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 02:32:06.404 +02:00 [INF] Hosting environment: Development
2026-01-31 02:32:06.408 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 02:32:07.132 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 02:32:07.432 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 304.7954ms
2026-01-31 02:32:07.442 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 02:32:07.452 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 02:32:07.474 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 22.5235ms
2026-01-31 02:32:07.514 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 72.5986ms
2026-01-31 02:32:07.579 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 02:32:07.877 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 298.2619ms
2026-01-31 02:32:38.946 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5068/Api/V1/BankAccount/UpdateAccountType - application/json 38
2026-01-31 02:32:38.991 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-31 02:32:39.120 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem)'
2026-01-31 02:32:39.151 +02:00 [INF] Route matched with {action = "UpdateAccountType", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAccountType(BusinessCore.BankSystem.Features.BankAccount.Commands.Models.UpdateAccountTypeCommand) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 02:32:49.656 +02:00 [INF] Updating account 20 type
2026-01-31 02:32:53.831 +02:00 [INF] UpdateAccountTypeAsync called for account 20 by user 20, New Type: "Saving"
2026-01-31 02:33:14.923 +02:00 [INF] GetAccountByIdAsync called for account 20 by user 20
2026-01-31 02:33:15.399 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[AccountType], [b].[Balance], [b].[CreatedData], [b].[Currency], [b].[ISDeleted], [b].[IsActive], [b].[UpdatedData], [b].[UserId]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__p_0
2026-01-31 02:33:15.429 +02:00 [WRN] Account 20 not found
2026-01-31 02:33:15.661 +02:00 [WRN] Account 20 not found
System.Collections.Generic.KeyNotFoundException: Account with ID 20 not found
   at ApplicationLayer.BankSystem.ImplementServices.BankAccountService.GetAccountByIdAsync(Int32 id) in D:\BankSystem\BankSystem\BankSystem\ApplicationLayer.BankSystem\ImplementServices\BankAccountService.cs:line 151
   at ApplicationLayer.BankSystem.ImplementServices.BankAccountService.UpdateAccountTypeAsync(Int32 id, AccountTypeEnum newType) in D:\BankSystem\BankSystem\BankSystem\ApplicationLayer.BankSystem\ImplementServices\BankAccountService.cs:line 297
   at BusinessCore.BankSystem.Features.BankAccount.Commands.Handler.BankAccountCommandHandler.Handle(UpdateAccountTypeCommand request, CancellationToken cancellationToken) in D:\BankSystem\BankSystem\BankSystem\BusinessCore.BankSystem\Features\BankAccount\Commands\Handler\BankAccountCommandHandler.cs:line 78
2026-01-31 02:33:15.728 +02:00 [INF] Executing ObjectResult, writing value of type 'Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-31 02:33:15.748 +02:00 [INF] Executed action BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem) in 36583.608ms
2026-01-31 02:33:15.760 +02:00 [INF] Executed endpoint 'BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem)'
2026-01-31 02:33:15.777 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5068/Api/V1/BankAccount/UpdateAccountType - 404 null application/json; charset=utf-8 36831.3401ms
2026-01-31 02:34:12.512 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 02:34:12.652 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 02:34:12.768 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 02:34:12.774 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 02:34:12.779 +02:00 [INF] Hosting environment: Development
2026-01-31 02:34:12.782 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 02:34:13.093 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 02:34:13.406 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 317.4908ms
2026-01-31 02:34:13.421 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 02:34:13.430 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 02:34:13.459 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 29.562ms
2026-01-31 02:34:13.493 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.8599ms
2026-01-31 02:34:13.544 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 02:34:13.820 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 275.7706ms
2026-01-31 02:34:36.111 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5068/Api/V1/BankAccount/UpdateAccountType - application/json 37
2026-01-31 02:34:36.145 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-31 02:34:36.200 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem)'
2026-01-31 02:34:36.237 +02:00 [INF] Route matched with {action = "UpdateAccountType", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAccountType(BusinessCore.BankSystem.Features.BankAccount.Commands.Models.UpdateAccountTypeCommand) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 02:34:42.117 +02:00 [INF] Updating account 8 type
2026-01-31 02:34:44.639 +02:00 [WRN] Attempted to access CurrentUserId but user is not authenticated
2026-01-31 02:35:02.595 +02:00 [ERR] Error updating account 8
System.UnauthorizedAccessException: User is not authenticated
   at ApplicationLayer.BankSystem.ImplementServices.BankAccountService.get_CurrentUserId() in D:\BankSystem\BankSystem\BankSystem\ApplicationLayer.BankSystem\ImplementServices\BankAccountService.cs:line 42
   at ApplicationLayer.BankSystem.ImplementServices.BankAccountService.UpdateAccountTypeAsync(Int32 id, AccountTypeEnum newType) in D:\BankSystem\BankSystem\BankSystem\ApplicationLayer.BankSystem\ImplementServices\BankAccountService.cs:line 286
   at BusinessCore.BankSystem.Features.BankAccount.Commands.Handler.BankAccountCommandHandler.Handle(UpdateAccountTypeCommand request, CancellationToken cancellationToken) in D:\BankSystem\BankSystem\BankSystem\BusinessCore.BankSystem\Features\BankAccount\Commands\Handler\BankAccountCommandHandler.cs:line 78
2026-01-31 02:39:07.222 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 02:39:07.363 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 02:39:07.477 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 02:39:07.484 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 02:39:07.488 +02:00 [INF] Hosting environment: Development
2026-01-31 02:39:07.493 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 02:39:08.331 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 02:39:08.657 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 342.8588ms
2026-01-31 02:39:08.672 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 02:39:08.686 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 02:39:08.715 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 29.3958ms
2026-01-31 02:39:08.774 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 102.0388ms
2026-01-31 02:39:08.835 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 02:39:09.103 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 267.8478ms
2026-01-31 02:39:47.928 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5068/Api/V1/BankAccount/UpdateAccountType - application/json 38
2026-01-31 02:39:47.972 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-31 02:39:48.036 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem)'
2026-01-31 02:39:48.073 +02:00 [INF] Route matched with {action = "UpdateAccountType", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAccountType(BusinessCore.BankSystem.Features.BankAccount.Commands.Models.UpdateAccountTypeCommand) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 02:39:54.577 +02:00 [INF] Updating account 20 type
2026-01-31 02:40:12.480 +02:00 [WRN] Attempted to access CurrentUserId but user is not authenticated
2026-01-31 02:40:25.171 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 02:40:25.305 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 02:40:25.418 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 02:40:25.425 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 02:40:25.429 +02:00 [INF] Hosting environment: Development
2026-01-31 02:40:25.431 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 02:40:26.124 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 02:40:26.452 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 337.1243ms
2026-01-31 02:40:26.462 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 02:40:26.477 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 02:40:26.484 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 22.6525ms
2026-01-31 02:40:26.547 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 70.0666ms
2026-01-31 02:40:26.601 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 02:40:26.889 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 287.7226ms
2026-01-31 02:40:52.546 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5068/Api/V1/BankAccount/UpdateAccountType - application/json 38
2026-01-31 02:40:52.581 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-31 02:40:52.723 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem)'
2026-01-31 02:40:52.757 +02:00 [INF] Route matched with {action = "UpdateAccountType", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAccountType(BusinessCore.BankSystem.Features.BankAccount.Commands.Models.UpdateAccountTypeCommand) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 02:40:59.780 +02:00 [INF] Updating account 20 type
2026-01-31 02:41:03.723 +02:00 [INF] UpdateAccountTypeAsync called for account 20 by user 20, New Type: "Saving"
2026-01-31 02:41:09.785 +02:00 [INF] GetAccountByIdAsync called for account 20 by user 20
2026-01-31 02:41:10.219 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[AccountType], [b].[Balance], [b].[CreatedData], [b].[Currency], [b].[ISDeleted], [b].[IsActive], [b].[UpdatedData], [b].[UserId]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__p_0
2026-01-31 02:41:10.257 +02:00 [WRN] Account 20 not found
2026-01-31 02:41:10.488 +02:00 [WRN] Account 20 not found
System.Collections.Generic.KeyNotFoundException: Account with ID 20 not found
   at ApplicationLayer.BankSystem.ImplementServices.BankAccountService.GetAccountByIdAsync(Int32 id) in D:\BankSystem\BankSystem\BankSystem\ApplicationLayer.BankSystem\ImplementServices\BankAccountService.cs:line 151
   at ApplicationLayer.BankSystem.ImplementServices.BankAccountService.UpdateAccountTypeAsync(Int32 id, AccountTypeEnum newType) in D:\BankSystem\BankSystem\BankSystem\ApplicationLayer.BankSystem\ImplementServices\BankAccountService.cs:line 297
   at BusinessCore.BankSystem.Features.BankAccount.Commands.Handler.BankAccountCommandHandler.Handle(UpdateAccountTypeCommand request, CancellationToken cancellationToken) in D:\BankSystem\BankSystem\BankSystem\BusinessCore.BankSystem\Features\BankAccount\Commands\Handler\BankAccountCommandHandler.cs:line 78
2026-01-31 02:41:10.522 +02:00 [INF] Executing ObjectResult, writing value of type 'Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-31 02:41:10.541 +02:00 [INF] Executed action BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem) in 17770.4092ms
2026-01-31 02:41:10.551 +02:00 [INF] Executed endpoint 'BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem)'
2026-01-31 02:41:10.563 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5068/Api/V1/BankAccount/UpdateAccountType - 404 null application/json; charset=utf-8 18016.5334ms
2026-01-31 02:41:30.496 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 02:41:30.661 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 02:41:30.768 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 02:41:30.774 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 02:41:30.777 +02:00 [INF] Hosting environment: Development
2026-01-31 02:41:30.780 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 02:41:31.241 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 02:41:31.603 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 373.4271ms
2026-01-31 02:41:31.617 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 02:41:31.621 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 02:41:31.636 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 19.7205ms
2026-01-31 02:41:31.685 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.0713ms
2026-01-31 02:41:31.731 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 02:41:31.954 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 222.1493ms
2026-01-31 02:41:57.945 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5068/Api/V1/BankAccount/UpdateAccountType - application/json 38
2026-01-31 02:41:57.987 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-31 02:41:58.119 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem)'
2026-01-31 02:41:58.158 +02:00 [INF] Route matched with {action = "UpdateAccountType", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAccountType(BusinessCore.BankSystem.Features.BankAccount.Commands.Models.UpdateAccountTypeCommand) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 02:42:03.027 +02:00 [INF] Updating account 20 type
2026-01-31 02:42:05.916 +02:00 [INF] UpdateAccountTypeAsync called for account 20 by user 20, New Type: "Saving"
2026-01-31 02:42:17.179 +02:00 [INF] GetAccountByIdAsync called for account 20 by user 20
2026-01-31 02:42:30.006 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[AccountType], [b].[Balance], [b].[CreatedData], [b].[Currency], [b].[ISDeleted], [b].[IsActive], [b].[UpdatedData], [b].[UserId]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__p_0
2026-01-31 02:56:04.113 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 02:56:04.259 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 02:56:04.402 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 02:56:04.407 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 02:56:04.409 +02:00 [INF] Hosting environment: Development
2026-01-31 02:56:04.413 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 02:56:04.906 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 02:56:05.220 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 02:56:05.209 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 314.6301ms
2026-01-31 02:56:05.247 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 02:56:05.260 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 12.7745ms
2026-01-31 02:56:05.291 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.0299ms
2026-01-31 02:56:05.369 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 02:56:05.673 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 305.1645ms
2026-01-31 02:56:33.152 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5068/Api/V1/BankAccount/UpdateAccountType - application/json 38
2026-01-31 02:56:33.195 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-31 02:56:33.256 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem)'
2026-01-31 02:56:33.288 +02:00 [INF] Route matched with {action = "UpdateAccountType", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAccountType(BusinessCore.BankSystem.Features.BankAccount.Commands.Models.UpdateAccountTypeCommand) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 02:56:38.537 +02:00 [INF] Updating account 20 type
2026-01-31 02:56:41.391 +02:00 [WRN] Attempted to access CurrentUserId but user is not authenticated
2026-01-31 02:57:00.367 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 02:57:00.506 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 02:57:00.619 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 02:57:00.627 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 02:57:00.630 +02:00 [INF] Hosting environment: Development
2026-01-31 02:57:00.632 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 02:57:01.368 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 02:57:01.672 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 312.731ms
2026-01-31 02:57:01.687 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 02:57:01.695 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 02:57:01.723 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 27.8205ms
2026-01-31 02:57:01.753 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 66.9295ms
2026-01-31 02:57:01.816 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 02:57:02.136 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 320.6209ms
2026-01-31 02:57:26.590 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5068/Api/V1/User/SignIn - multipart/form-data; boundary=----WebKitFormBoundaryt1qubTnGeRHT2LUV 252
2026-01-31 02:57:26.627 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-31 02:57:26.696 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.AuthenticationController.SignInAsync (BankSystem)'
2026-01-31 02:57:26.737 +02:00 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(BusinessCore.BankSystem.Features.User.Commands.Requests.SignInCommand) on controller BankSystem.Controllers.AuthenticationController (BankSystem).
2026-01-31 02:57:28.550 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[Image], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-31 02:57:31.145 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-31 02:57:31.205 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2026-01-31 02:57:34.044 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshToken] ([AddedTime], [ExpiryDate], [IsRevoked], [IsUsed], [JwtId], [RefreshTokenHash], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2026-01-31 02:57:40.430 +02:00 [INF] Executing OkObjectResult, writing value of type 'Response`1[[Domainlayer.BankSystem.Results.JwtAuthResult, Domainlayer.BankSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-31 02:57:46.079 +02:00 [INF] Executed action BankSystem.Controllers.AuthenticationController.SignInAsync (BankSystem) in 19328.7177ms
2026-01-31 02:57:46.086 +02:00 [INF] Executed endpoint 'BankSystem.Controllers.AuthenticationController.SignInAsync (BankSystem)'
2026-01-31 02:57:47.898 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5068/Api/V1/User/SignIn - 200 null application/json; charset=utf-8 21308.1134ms
2026-01-31 02:58:27.873 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5068/Api/V1/BankAccount/UpdateAccountType - application/json 38
2026-01-31 02:58:27.943 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem)'
2026-01-31 02:58:27.960 +02:00 [INF] Route matched with {action = "UpdateAccountType", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAccountType(BusinessCore.BankSystem.Features.BankAccount.Commands.Models.UpdateAccountTypeCommand) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 02:58:31.731 +02:00 [INF] Updating account 20 type
2026-01-31 02:58:34.063 +02:00 [INF] UpdateAccountTypeAsync called for account 20 by user 20, New Type: "Saving"
2026-01-31 02:58:43.893 +02:00 [INF] GetAccountByIdAsync called for account 20 by user 20
2026-01-31 02:58:51.723 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[AccountType], [b].[Balance], [b].[CreatedData], [b].[Currency], [b].[ISDeleted], [b].[IsActive], [b].[UpdatedData], [b].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[Image], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [BankAccounts] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[UserId] = [a].[Id]
WHERE [b].[Id] = @__id_0 AND [b].[ISDeleted] = CAST(0 AS bit)
2026-01-31 03:10:18.753 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 03:10:18.907 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 03:10:19.039 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 03:10:19.045 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 03:10:19.048 +02:00 [INF] Hosting environment: Development
2026-01-31 03:10:19.051 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 03:10:19.578 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 03:10:20.014 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 445.3287ms
2026-01-31 03:10:20.033 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 03:10:20.043 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 03:10:20.061 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 17.7575ms
2026-01-31 03:10:20.103 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 70.9505ms
2026-01-31 03:10:20.163 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 03:10:20.411 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 248.4441ms
2026-01-31 03:10:48.072 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5068/Api/V1/BankAccount/UpdateAccountType - application/json 38
2026-01-31 03:10:48.120 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-31 03:10:49.888 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem)'
2026-01-31 03:10:49.923 +02:00 [INF] Route matched with {action = "UpdateAccountType", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAccountType(BusinessCore.BankSystem.Features.BankAccount.Commands.Models.UpdateAccountTypeCommand) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 03:10:53.255 +02:00 [INF] Updating account 20 type
2026-01-31 03:10:55.134 +02:00 [WRN] Attempted to access CurrentUserId but user is not authenticated
2026-01-31 03:11:07.038 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 03:11:07.168 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 03:11:07.275 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 03:11:07.281 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 03:11:07.284 +02:00 [INF] Hosting environment: Development
2026-01-31 03:11:07.287 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 03:11:07.897 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 03:11:08.198 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 306.4442ms
2026-01-31 03:11:08.211 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 03:11:08.227 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 03:11:08.232 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 21.3236ms
2026-01-31 03:11:08.289 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 62.4113ms
2026-01-31 03:11:08.341 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 03:11:08.579 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 237.8132ms
2026-01-31 03:11:30.383 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5068/Api/V1/BankAccount/UpdateAccountType - application/json 38
2026-01-31 03:11:30.428 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-31 03:11:30.640 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem)'
2026-01-31 03:11:30.671 +02:00 [INF] Route matched with {action = "UpdateAccountType", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAccountType(BusinessCore.BankSystem.Features.BankAccount.Commands.Models.UpdateAccountTypeCommand) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 03:11:35.194 +02:00 [INF] Updating account 20 type
2026-01-31 03:11:36.732 +02:00 [INF] UpdateAccountTypeAsync called for account 20 by user 20, New Type: "Saving"
2026-01-31 03:11:40.856 +02:00 [INF] GetAccountByIdAsync called for account 20 by user 20
2026-01-31 03:11:42.941 +02:00 [INF] Executed DbCommand (103ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[AccountType], [b].[Balance], [b].[CreatedData], [b].[Currency], [b].[ISDeleted], [b].[IsActive], [b].[UpdatedData], [b].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[Image], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [BankAccounts] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[UserId] = [a].[Id]
WHERE [b].[Id] = @__id_0 AND [b].[ISDeleted] = CAST(0 AS bit)
2026-01-31 03:12:04.911 +02:00 [WRN] Account 20 not found
2026-01-31 03:12:07.378 +02:00 [WRN] Account 20 not found
System.Collections.Generic.KeyNotFoundException: Account with ID 20 not found
   at ApplicationLayer.BankSystem.ImplementServices.BankAccountService.GetAccountByIdAsync(Int32 id) in D:\BankSystem\BankSystem\BankSystem\ApplicationLayer.BankSystem\ImplementServices\BankAccountService.cs:line 151
   at ApplicationLayer.BankSystem.ImplementServices.BankAccountService.UpdateAccountTypeAsync(Int32 id, AccountTypeEnum newType) in D:\BankSystem\BankSystem\BankSystem\ApplicationLayer.BankSystem\ImplementServices\BankAccountService.cs:line 298
   at BusinessCore.BankSystem.Features.BankAccount.Commands.Handler.BankAccountCommandHandler.Handle(UpdateAccountTypeCommand request, CancellationToken cancellationToken) in D:\BankSystem\BankSystem\BankSystem\BusinessCore.BankSystem\Features\BankAccount\Commands\Handler\BankAccountCommandHandler.cs:line 78
2026-01-31 03:12:07.440 +02:00 [INF] Executing ObjectResult, writing value of type 'Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-31 03:12:07.458 +02:00 [INF] Executed action BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem) in 36769.3699ms
2026-01-31 03:12:07.465 +02:00 [INF] Executed endpoint 'BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem)'
2026-01-31 03:12:07.477 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5068/Api/V1/BankAccount/UpdateAccountType - 404 null application/json; charset=utf-8 37093.9416ms
2026-01-31 03:12:15.988 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5068/Api/V1/BankAccount/UpdateAccountType - application/json 38
2026-01-31 03:12:19.682 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem)'
2026-01-31 03:12:19.689 +02:00 [INF] Route matched with {action = "UpdateAccountType", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAccountType(BusinessCore.BankSystem.Features.BankAccount.Commands.Models.UpdateAccountTypeCommand) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 03:12:22.224 +02:00 [INF] Updating account 20 type
2026-01-31 03:12:24.412 +02:00 [INF] UpdateAccountTypeAsync called for account 20 by user 20, New Type: "Saving"
2026-01-31 03:12:29.426 +02:00 [INF] GetAccountByIdAsync called for account 20 by user 20
2026-01-31 03:12:37.911 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[AccountType], [b].[Balance], [b].[CreatedData], [b].[Currency], [b].[ISDeleted], [b].[IsActive], [b].[UpdatedData], [b].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[Image], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [BankAccounts] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[UserId] = [a].[Id]
WHERE [b].[Id] = @__id_0 AND [b].[ISDeleted] = CAST(0 AS bit)
2026-01-31 03:13:50.721 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 03:13:50.935 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 03:13:51.172 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 03:13:51.179 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 03:13:51.183 +02:00 [INF] Hosting environment: Development
2026-01-31 03:13:51.186 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 03:13:51.589 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 03:13:51.928 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 345.6044ms
2026-01-31 03:13:51.934 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 03:13:51.949 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 03:13:51.954 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 20.9732ms
2026-01-31 03:13:52.008 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.7998ms
2026-01-31 03:13:52.057 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 03:13:52.415 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 358.7461ms
2026-01-31 03:14:14.402 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5068/Api/V1/BankAccount/UpdateAccountType - application/json 38
2026-01-31 03:14:14.438 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-31 03:14:14.595 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem)'
2026-01-31 03:14:14.626 +02:00 [INF] Route matched with {action = "UpdateAccountType", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAccountType(BusinessCore.BankSystem.Features.BankAccount.Commands.Models.UpdateAccountTypeCommand) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 03:14:22.067 +02:00 [INF] Updating account 20 type
2026-01-31 03:14:24.820 +02:00 [INF] UpdateAccountTypeAsync called for account 20 by user 20, New Type: "Saving"
2026-01-31 03:14:30.280 +02:00 [INF] GetAccountByIdAsync called for account 20 by user 20
2026-01-31 03:14:36.803 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[AccountType], [b].[Balance], [b].[CreatedData], [b].[Currency], [b].[ISDeleted], [b].[IsActive], [b].[UpdatedData], [b].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[Image], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [BankAccounts] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[UserId] = [a].[Id]
WHERE [b].[Id] = @__id_0
2026-01-31 03:23:29.844 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-01-31 03:23:29.901 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-01-31 03:23:29.921 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-01-31 03:27:51.924 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-01-31 03:27:51.980 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-01-31 03:27:51.990 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-01-31 03:28:07.435 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 03:28:07.605 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 03:28:07.722 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 03:28:07.727 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 03:28:07.731 +02:00 [INF] Hosting environment: Development
2026-01-31 03:28:07.734 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 03:28:08.388 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 03:28:08.710 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 331.637ms
2026-01-31 03:28:08.725 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 03:28:08.728 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 03:28:08.751 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 22.6967ms
2026-01-31 03:28:08.787 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 62.6147ms
2026-01-31 03:28:08.839 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 03:28:09.138 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 298.6887ms
2026-01-31 03:28:32.350 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5068/Api/V1/BankAccount/UpdateAccountType - application/json 38
2026-01-31 03:28:32.395 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-31 03:28:33.487 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem)'
2026-01-31 03:28:33.518 +02:00 [INF] Route matched with {action = "UpdateAccountType", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAccountType(BusinessCore.BankSystem.Features.BankAccount.Commands.Models.UpdateAccountTypeCommand) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 03:28:38.677 +02:00 [INF] Updating account 20 type
2026-01-31 03:28:40.640 +02:00 [INF] UpdateAccountTypeAsync called for account 20 by user 20, New Type: "Saving"
2026-01-31 03:28:50.272 +02:00 [INF] GetAccountByIdAsync called for account 20 by user 20
2026-01-31 03:28:58.934 +02:00 [INF] Executed DbCommand (101ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[AccountType], [b].[Balance], [b].[CreatedData], [b].[Currency], [b].[ISDeleted], [b].[IsActive], [b].[UpdatedData], [b].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[Image], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [BankAccounts] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[UserId] = [a].[Id]
WHERE [b].[Id] = @__id_0 AND [b].[ISDeleted] = CAST(0 AS bit)
2026-01-31 03:29:11.039 +02:00 [WRN] Account 20 not found
2026-01-31 03:29:11.184 +02:00 [WRN] Account 20 not found
System.Collections.Generic.KeyNotFoundException: Account with ID 20 not found
   at ApplicationLayer.BankSystem.ImplementServices.BankAccountService.GetAccountByIdAsync(Int32 id) in D:\BankSystem\BankSystem\BankSystem\ApplicationLayer.BankSystem\ImplementServices\BankAccountService.cs:line 151
   at ApplicationLayer.BankSystem.ImplementServices.BankAccountService.UpdateAccountTypeAsync(Int32 id, AccountTypeEnum newType) in D:\BankSystem\BankSystem\BankSystem\ApplicationLayer.BankSystem\ImplementServices\BankAccountService.cs:line 298
   at BusinessCore.BankSystem.Features.BankAccount.Commands.Handler.BankAccountCommandHandler.Handle(UpdateAccountTypeCommand request, CancellationToken cancellationToken) in D:\BankSystem\BankSystem\BankSystem\BusinessCore.BankSystem\Features\BankAccount\Commands\Handler\BankAccountCommandHandler.cs:line 78
2026-01-31 03:29:11.238 +02:00 [INF] Executing ObjectResult, writing value of type 'Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-31 03:29:11.256 +02:00 [INF] Executed action BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem) in 37722.5128ms
2026-01-31 03:29:11.264 +02:00 [INF] Executed endpoint 'BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem)'
2026-01-31 03:29:11.276 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5068/Api/V1/BankAccount/UpdateAccountType - 404 null application/json; charset=utf-8 38925.6753ms
2026-01-31 03:29:27.405 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 03:29:27.535 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 03:29:27.654 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 03:29:27.662 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 03:29:27.664 +02:00 [INF] Hosting environment: Development
2026-01-31 03:29:27.666 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 03:29:28.124 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 03:29:28.427 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 309.3328ms
2026-01-31 03:29:28.436 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 03:29:28.455 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 03:29:28.488 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 32.3472ms
2026-01-31 03:29:28.520 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 84.3812ms
2026-01-31 03:29:28.569 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 03:29:28.803 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 233.8696ms
2026-01-31 03:29:57.754 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5068/Api/V1/BankAccount/UpdateAccountType - application/json 38
2026-01-31 03:29:57.790 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-31 03:29:57.913 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem)'
2026-01-31 03:29:57.952 +02:00 [INF] Route matched with {action = "UpdateAccountType", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAccountType(BusinessCore.BankSystem.Features.BankAccount.Commands.Models.UpdateAccountTypeCommand) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 03:30:04.585 +02:00 [INF] Updating account 20 type
2026-01-31 03:30:10.022 +02:00 [INF] UpdateAccountTypeAsync called for account 20 by user 20, New Type: "Saving"
2026-01-31 03:30:13.814 +02:00 [INF] GetAccountByIdAsync called for account 20 by user 20
2026-01-31 03:30:30.390 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[AccountType], [b].[Balance], [b].[CreatedData], [b].[Currency], [b].[ISDeleted], [b].[IsActive], [b].[UpdatedData], [b].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[Image], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [BankAccounts] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[UserId] = [a].[Id]
WHERE [b].[Id] = @__id_0 AND [b].[ISDeleted] = CAST(0 AS bit)
2026-01-31 03:31:44.458 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 03:31:44.592 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 03:31:44.711 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 03:31:44.718 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 03:31:44.721 +02:00 [INF] Hosting environment: Development
2026-01-31 03:31:44.724 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 03:31:45.226 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 03:31:45.523 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 308.6068ms
2026-01-31 03:31:45.537 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 03:31:45.546 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 03:31:45.567 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 18.564ms
2026-01-31 03:31:45.623 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 90.8135ms
2026-01-31 03:31:45.682 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 03:31:45.951 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 268.1863ms
2026-01-31 03:32:16.964 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5068/Api/V1/BankAccount/UpdateAccountType - application/json 38
2026-01-31 03:32:17.013 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-31 03:32:17.148 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem)'
2026-01-31 03:32:17.182 +02:00 [INF] Route matched with {action = "UpdateAccountType", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAccountType(BusinessCore.BankSystem.Features.BankAccount.Commands.Models.UpdateAccountTypeCommand) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 03:32:21.940 +02:00 [INF] Updating account 20 type
2026-01-31 03:32:24.654 +02:00 [INF] UpdateAccountTypeAsync called for account 20 by user 20, New Type: "Saving"
2026-01-31 03:32:30.724 +02:00 [INF] GetAccountByIdAsync called for account 20 by user 20
2026-01-31 03:32:32.534 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[AccountType], [b].[Balance], [b].[CreatedData], [b].[Currency], [b].[ISDeleted], [b].[IsActive], [b].[UpdatedData], [b].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[Image], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [BankAccounts] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[UserId] = [a].[Id]
WHERE [b].[UserId] = @__id_0 AND [b].[ISDeleted] = CAST(0 AS bit)
2026-01-31 03:33:29.709 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AccountNumber], [b].[AccountType], [b].[Balance], [b].[CreatedData], [b].[Currency], [b].[ISDeleted], [b].[IsActive], [b].[UpdatedData], [b].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[Image], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [BankAccounts] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[UserId] = [a].[Id]
WHERE [b].[UserId] = @__userId_0 AND [b].[ISDeleted] = CAST(0 AS bit)
2026-01-31 03:33:40.337 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BankAccounts] SET [AccountNumber] = @p0, [AccountType] = @p1, [Balance] = @p2, [CreatedData] = @p3, [Currency] = @p4, [ISDeleted] = @p5, [IsActive] = @p6, [UpdatedData] = @p7, [UserId] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2026-01-31 03:33:41.431 +02:00 [INF] Account ACCT-EEB67466C122 type updated from "Current" to "Saving" by user 20
2026-01-31 03:33:49.704 +02:00 [INF] Executing ObjectResult, writing value of type 'Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-31 03:33:52.906 +02:00 [INF] Executed action BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem) in 95707.6903ms
2026-01-31 03:33:52.916 +02:00 [INF] Executed endpoint 'BankSystem.Controllers.BankAccountController.UpdateAccountType (BankSystem)'
2026-01-31 03:33:54.519 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5068/Api/V1/BankAccount/UpdateAccountType - 200 null application/json; charset=utf-8 97554.9544ms
2026-01-31 03:34:31.912 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5068/Api/V1/BankAccount/Delete - null null
2026-01-31 03:34:31.941 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.Delete (BankSystem)'
2026-01-31 03:34:31.956 +02:00 [INF] Route matched with {action = "Delete", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 03:34:32.031 +02:00 [INF] Deleting account 0
2026-01-31 03:34:32.038 +02:00 [INF] DeleteAccountAsync called for account 0 by user 20
2026-01-31 03:34:39.722 +02:00 [INF] GetAccountByIdAsync called for account 0 by user 20
2026-01-31 03:34:45.020 +02:00 [WRN] Invalid account ID: 0
2026-01-31 03:35:07.089 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 03:35:07.239 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 03:35:07.364 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 03:35:07.370 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 03:35:07.373 +02:00 [INF] Hosting environment: Development
2026-01-31 03:35:07.377 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 03:35:07.848 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 03:35:08.151 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 309.1445ms
2026-01-31 03:35:08.161 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 03:35:08.178 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 03:35:08.183 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 23.4869ms
2026-01-31 03:35:08.240 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 61.9794ms
2026-01-31 03:35:08.285 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 03:35:08.521 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 235.5895ms
2026-01-31 03:35:36.500 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5068/Api/V1/BankAccount/Delete - null null
2026-01-31 03:35:36.565 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-31 03:35:36.696 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.Delete (BankSystem)'
2026-01-31 03:35:36.730 +02:00 [INF] Route matched with {action = "Delete", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 03:35:37.990 +02:00 [INF] Deleting account 0
2026-01-31 03:35:38.001 +02:00 [INF] DeleteAccountAsync called for account 0 by user 20
2026-01-31 03:35:42.038 +02:00 [INF] GetAccountByIdAsync called for account 0 by user 20
2026-01-31 03:35:51.679 +02:00 [WRN] Invalid account ID: 0
2026-01-31 03:37:58.301 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 03:37:58.442 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 03:37:58.555 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 03:37:58.562 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 03:37:58.566 +02:00 [INF] Hosting environment: Development
2026-01-31 03:37:58.568 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 03:37:59.323 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 03:37:59.636 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 319.942ms
2026-01-31 03:37:59.650 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 03:37:59.656 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 03:37:59.684 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 24.6767ms
2026-01-31 03:37:59.715 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.2878ms
2026-01-31 03:37:59.766 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 03:38:00.123 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 356.1359ms
2026-01-31 03:38:31.008 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5068/Api/V1/BankAccount/Delete - null null
2026-01-31 03:38:31.048 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-31 03:38:31.168 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '1/31/2026 1:37:31 AM', Current time (UTC): '1/31/2026 1:38:31 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-01-31 03:38:31.193 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '1/31/2026 1:37:31 AM', Current time (UTC): '1/31/2026 1:38:31 AM'.
2026-01-31 03:38:31.204 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.Delete (BankSystem)'
2026-01-31 03:38:31.233 +02:00 [INF] Route matched with {action = "Delete", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 03:38:39.571 +02:00 [INF] Deleting account 0
2026-01-31 03:39:53.823 +02:00 [WRN] Attempted to access CurrentUserId but user is not authenticated
2026-01-31 03:40:06.536 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 03:40:06.680 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 03:40:06.811 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 03:40:06.819 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 03:40:06.824 +02:00 [INF] Hosting environment: Development
2026-01-31 03:40:06.827 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 03:40:07.188 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 03:40:07.523 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 03:40:07.513 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 333.1678ms
2026-01-31 03:40:07.543 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 03:40:07.572 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 28.6278ms
2026-01-31 03:40:07.595 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.4906ms
2026-01-31 03:40:07.650 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 03:40:07.900 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 250.3972ms
2026-01-31 03:40:25.364 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5068/Api/V1/User/SignIn - multipart/form-data; boundary=----WebKitFormBoundary0nBrNJyUwAKUMN9X 252
2026-01-31 03:40:25.397 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-31 03:40:25.462 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.AuthenticationController.SignInAsync (BankSystem)'
2026-01-31 03:40:25.491 +02:00 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(BusinessCore.BankSystem.Features.User.Commands.Requests.SignInCommand) on controller BankSystem.Controllers.AuthenticationController (BankSystem).
2026-01-31 03:40:27.092 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[Image], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-31 03:40:31.472 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-31 03:40:31.530 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2026-01-31 03:40:34.261 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshToken] ([AddedTime], [ExpiryDate], [IsRevoked], [IsUsed], [JwtId], [RefreshTokenHash], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2026-01-31 03:40:40.081 +02:00 [INF] Executing OkObjectResult, writing value of type 'Response`1[[Domainlayer.BankSystem.Results.JwtAuthResult, Domainlayer.BankSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-31 03:40:44.926 +02:00 [INF] Executed action BankSystem.Controllers.AuthenticationController.SignInAsync (BankSystem) in 19421.5884ms
2026-01-31 03:40:44.934 +02:00 [INF] Executed endpoint 'BankSystem.Controllers.AuthenticationController.SignInAsync (BankSystem)'
2026-01-31 03:40:46.418 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5068/Api/V1/User/SignIn - 200 null application/json; charset=utf-8 21053.4185ms
2026-01-31 03:41:41.008 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5068/Api/V1/BankAccount/Delete - null null
2026-01-31 03:41:41.156 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.Delete (BankSystem)'
2026-01-31 03:41:41.166 +02:00 [INF] Route matched with {action = "Delete", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 03:41:45.715 +02:00 [INF] Deleting account 0
2026-01-31 03:42:56.944 +02:00 [INF] User profile is available. Using 'C:\Users\skytop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-31 03:42:57.090 +02:00 [WRN] The WebRootPath was not found: D:\BankSystem\BankSystem\BankSystem\BankSystem\wwwroot. Static files may be unavailable.
2026-01-31 03:42:57.206 +02:00 [INF] Now listening on: http://localhost:5068
2026-01-31 03:42:57.211 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-31 03:42:57.216 +02:00 [INF] Hosting environment: Development
2026-01-31 03:42:57.218 +02:00 [INF] Content root path: D:\BankSystem\BankSystem\BankSystem\BankSystem
2026-01-31 03:42:57.553 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/index.html - null null
2026-01-31 03:42:57.901 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/index.html - 200 null text/html;charset=utf-8 355.6035ms
2026-01-31 03:42:57.907 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_vs/browserLink - null null
2026-01-31 03:42:57.924 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - null null
2026-01-31 03:42:57.943 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 19.3804ms
2026-01-31 03:42:57.975 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/_vs/browserLink - 200 null text/javascript; charset=UTF-8 68.1423ms
2026-01-31 03:42:58.035 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - null null
2026-01-31 03:42:58.278 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5068/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 242.2842ms
2026-01-31 03:43:19.377 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5068/Api/V1/BankAccount/Delete/20 - null null
2026-01-31 03:43:19.411 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-31 03:43:19.552 +02:00 [INF] Executing endpoint 'BankSystem.Controllers.BankAccountController.Delete (BankSystem)'
2026-01-31 03:43:19.587 +02:00 [INF] Route matched with {action = "Delete", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller BankSystem.Controllers.BankAccountController (BankSystem).
2026-01-31 03:43:24.118 +02:00 [INF] Deleting account 20
2026-01-31 03:43:29.977 +02:00 [INF] DeleteAccountAsync called for account 20 by user 20
2026-01-31 03:43:32.235 +02:00 [INF] GetAccountByIdAsync called for account 20 by user 20
2026-01-31 03:43:35.124 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[AccountType], [b].[Balance], [b].[CreatedData], [b].[Currency], [b].[ISDeleted], [b].[IsActive], [b].[UpdatedData], [b].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[ConcurrencyStamp], [a].[Country], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[Image], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [BankAccounts] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[UserId] = [a].[Id]
WHERE [b].[UserId] = @__id_0 AND [b].[ISDeleted] = CAST(0 AS bit)
2026-01-31 03:43:52.988 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BankAccounts] SET [AccountNumber] = @p0, [AccountType] = @p1, [Balance] = @p2, [CreatedData] = @p3, [Currency] = @p4, [ISDeleted] = @p5, [IsActive] = @p6, [UpdatedData] = @p7, [UserId] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2026-01-31 03:43:53.771 +02:00 [INF] Account ACCT-EEB67466C122 deleted by user 20
2026-01-31 03:43:58.135 +02:00 [INF] Executing ObjectResult, writing value of type 'Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-31 03:44:00.616 +02:00 [INF] Executed action BankSystem.Controllers.BankAccountController.Delete (BankSystem) in 41016.0038ms
2026-01-31 03:44:00.623 +02:00 [INF] Executed endpoint 'BankSystem.Controllers.BankAccountController.Delete (BankSystem)'
2026-01-31 03:44:01.975 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5068/Api/V1/BankAccount/Delete/20 - 200 null application/json; charset=utf-8 42598.3532ms
